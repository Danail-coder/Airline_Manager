<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkyWings | Booking</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    :root {
      --sky-blue: #1a73e8;
      --sky-blue-light: #52a8ff;
      --deep-blue: #0d1a3a;
      --white: #ffffff;
      --gray: #e8eef5;
    }

    /* Page background */
    body {
      background: linear-gradient(to bottom, var(--sky-blue-light), #d6eaff);
      min-height: 100vh;
      padding: 1rem;
      font-family: "Inter", sans-serif;
      position: relative;
      overflow-x: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Responsive padding */
    @media (min-width: 640px) {
      body {
        padding: 2rem;
      }
    }

    /* Clouds + planes SVG container */
    .sky {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 260px;
      pointer-events: none;
      z-index: 0;
    }

    @media (max-width: 640px) {
      .sky {
        height: 150px;
      }
    }

    .clouds ellipse {
      animation: moveClouds linear infinite;
    }

    /* Cloud speeds */
    .clouds ellipse:nth-child(1) { animation-duration: 85s; }
    .clouds ellipse:nth-child(2) { animation-duration: 110s; }
    .clouds ellipse:nth-child(3) { animation-duration: 95s; }
    .clouds ellipse:nth-child(4) { animation-duration: 75s; }

    @keyframes moveClouds {
      from { transform: translateX(0); }
      to { transform: translateX(-1500px); }
    }

    /* Plane animations */
    .plane { animation: fly 20s linear infinite; }
    @keyframes fly {
      from { transform: translateX(-200px); opacity: 1; }
      to { transform: translateX(1400px); opacity: 1; }
    }

    .plane-1 { animation-delay: 0s; }
    .plane-2 { animation-delay: 3s; transform: scale(0.9); }
    .plane-3 { animation-delay: 6s; transform: scale(0.75); }

    /* Main container - centered */
    .container-wrapper {
      width: 100%;
      max-width: 680px;
      margin: 0 auto;
      position: relative;
      z-index: 10;
      padding-top: 80px;
    }

    @media (min-width: 640px) {
      .container-wrapper {
        padding-top: 100px;
      }
    }

    @media (min-width: 768px) {
      .container-wrapper {
        padding-top: 0;
      }
    }

    /* Logo above form - centered */
    .logo-center {
      width: 80px;
      height: auto;
      display: block;
      margin: 0 auto 2rem auto;
      animation: fadeIn 0.8s ease forwards;
    }

    @media (min-width: 640px) {
      .logo-center {
        width: 100px;
        margin-bottom: 2.5rem;
      }
    }

    /* Main card */
    .card {
      background: var(--white);
      border-radius: 1.5rem;
      padding: 1.5rem;
      width: 100%;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      animation: fadeIn 0.8s ease forwards;
      opacity: 0;
    }

    @media (min-width: 640px) {
      .card {
        padding: 2rem;
      }
    }

    @media (min-width: 768px) {
      .card {
        padding: 2.5rem;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Heading responsive */
    .card h1 {
      font-size: 1.5rem;
      line-height: 2rem;
    }

    @media (min-width: 640px) {
      .card h1 {
        font-size: 1.875rem;
        line-height: 2.25rem;
      }
    }

    /* Inputs */
    input, select {
      transition: 0.25s ease-in-out;
      font-size: 1rem;
    }

    input:focus, select:focus {
      transform: scale(1.02);
      border-color: var(--sky-blue);
      box-shadow: 0 0 8px rgba(26, 115, 232, 0.3);
      outline: none;
    }

    /* Labels responsive */
    label {
      font-size: 0.875rem;
    }

    @media (min-width: 640px) {
      label {
        font-size: 1rem;
      }
    }

    button {
      transition: 0.3s ease;
      font-size: 1rem;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }

    @media (min-width: 640px) {
      button {
        font-size: 1.125rem;
      }
    }

    /* Logo top-left corner */
    .logo-top {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 30;
      width: 50px;
      height: auto;
    }

    @media (min-width: 640px) {
      .logo-top {
        width: 65px;
        left: 25px;
      }
    }

    @media (min-width: 768px) {
      .logo-top {
        width: 75px;
      }
    }

    /* Form spacing */
    .form-group {
      margin-bottom: 1rem;
    }

    @media (min-width: 640px) {
      .form-group {
        margin-bottom: 1.25rem;
      }
    }

    /* Step transitions */
    .form-step {
      display: none;
    }

    .form-step.active {
      display: block;
      animation: slideIn 0.4s ease forwards;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    /* Progress indicator */
    .progress-indicator {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .progress-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #d1d5db;
      transition: all 0.3s ease;
    }

    .progress-dot.active {
      background: var(--sky-blue);
      transform: scale(1.2);
    }
  </style>
</head>

<body>

  <!-- Logo Top-Left Corner -->
  <img src="../assets/logo.png" class="logo-top" alt="SkyWings Logo">

  <!-- Sky Animation -->
  <div class="sky">
    <svg viewBox="0 0 1200 260" preserveAspectRatio="xMidYMid slice">
      <defs>
        <g id="plane">
          <path d="M0 12c4-3 30-12 54-6s46 22 56 26c8 3 22 10 36 8 10-1 28-7 42-12 14-6 30-10 46-8 16 2 34 10 50 14 18 5 38 6 58 0" 
          fill="#fff" stroke="#ccdff9" stroke-width="1"/>
          <rect x="10" y="8" width="36" height="8" rx="3" fill="#ffb400"/>
        </g>
      </defs>

      <g class="clouds" fill="#fff" opacity="0.92">
        <ellipse cx="1200" cy="50" rx="95" ry="24"/>
        <ellipse cx="900" cy="80" rx="70" ry="20"/>
        <ellipse cx="700" cy="40" rx="110" ry="28"/>
        <ellipse cx="450" cy="70" rx="80" ry="22"/>
      </g>

      <use href="#plane" class="plane plane-1" x="-200" y="50"/>
      <use href="#plane" class="plane plane-2" x="-400" y="100"/>
      <use href="#plane" class="plane plane-3" x="-600" y="30"/>
    </svg>
  </div>

  <!-- Container Wrapper - Centered -->
  <div class="container-wrapper">

    <!-- Booking Card -->
    <div class="card">

      <!-- Logo Above Form Title - Inside Card -->
      <img src="../assets/logo.png" class="logo-center" alt="SkyWings Logo">

      <h1 class="font-bold text-[var(--sky-blue)] mb-6 text-center">Passenger Information</h1>

      <nav class="text-center mb-6">
        <a href="login.html" class="text-red-500 hover:underline font-semibold">Logout</a>
      </nav

      <!-- Progress Indicator -->
      <div class="progress-indicator">
        <div class="progress-dot active" id="dot-1"></div>
        <div class="progress-dot" id="dot-2"></div>
      </div>

      <form id="booking-form">

        <!-- STEP 1 -->
        <div class="form-step active" id="step-1">
          <div class="form-group grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block font-medium mb-2">First Name</label>
              <input id="first-name" type="text" required class="w-full p-3 border rounded-lg">
            </div>
            <div>
              <label class="block font-medium mb-2">Last Name</label>
              <input id="last-name" type="text" required class="w-full p-3 border rounded-lg">
            </div>
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Email</label>
            <input id="email" type="email" required class="w-full p-3 border rounded-lg">
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Phone Number</label>
            <div class="flex gap-2">
              <select id="country-code" required class="w-32 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm">
                <option value="+1" data-flag="ðŸ‡ºðŸ‡¸">ðŸ‡ºðŸ‡¸ +1</option>
                <option value="+233" data-flag="ðŸ‡¬ðŸ‡­">ðŸ‡¬ðŸ‡­ +233</option>
                <option value="+44" data-flag="ðŸ‡¬ðŸ‡§">ðŸ‡¬ðŸ‡§ +44</option>
                <option value="+91" data-flag="ðŸ‡®ðŸ‡³">ðŸ‡®ðŸ‡³ +91</option>
                <option value="+234" data-flag="ðŸ‡³ðŸ‡¬">ðŸ‡³ðŸ‡¬ +234</option>
                <option value="+27" data-flag="ðŸ‡¿ðŸ‡¦">ðŸ‡¿ðŸ‡¦ +27</option>
                <option value="+254" data-flag="ðŸ‡°ðŸ‡ª">ðŸ‡°ðŸ‡ª +254</option>
                <option value="+256" data-flag="ðŸ‡ºðŸ‡¬">ðŸ‡ºðŸ‡¬ +256</option>
                <option value="+255" data-flag="ðŸ‡¹ðŸ‡¿">ðŸ‡¹ðŸ‡¿ +255</option>
                <option value="+86" data-flag="ðŸ‡¨ðŸ‡³">ðŸ‡¨ðŸ‡³ +86</option>
                <option value="+81" data-flag="ðŸ‡¯ðŸ‡µ">ðŸ‡¯ðŸ‡µ +81</option>
                <option value="+49" data-flag="ðŸ‡©ðŸ‡ª">ðŸ‡©ðŸ‡ª +49</option>
                <option value="+33" data-flag="ðŸ‡«ðŸ‡·">ðŸ‡«ðŸ‡· +33</option>
                <option value="+61" data-flag="ðŸ‡¦ðŸ‡º">ðŸ‡¦ðŸ‡º +61</option>
                <option value="+971" data-flag="ðŸ‡¦ðŸ‡ª">ðŸ‡¦ðŸ‡ª +971</option>
                <option value="+966" data-flag="ðŸ‡¸ðŸ‡¦">ðŸ‡¸ðŸ‡¦ +966</option>
                <option value="+20" data-flag="ðŸ‡ªðŸ‡¬">ðŸ‡ªðŸ‡¬ +20</option>
                <option value="+212" data-flag="ðŸ‡²ðŸ‡¦">ðŸ‡²ðŸ‡¦ +212</option>
                <option value="+213" data-flag="ðŸ‡©ðŸ‡¿">ðŸ‡©ðŸ‡¿ +213</option>
                <option value="+82" data-flag="ðŸ‡°ðŸ‡·">ðŸ‡°ðŸ‡· +82</option>
                <option value="+65" data-flag="ðŸ‡¸ðŸ‡¬">ðŸ‡¸ðŸ‡¬ +65</option>
                <option value="+60" data-flag="ðŸ‡²ðŸ‡¾">ðŸ‡²ðŸ‡¾ +60</option>
                <option value="+66" data-flag="ðŸ‡¹ðŸ‡­">ðŸ‡¹ðŸ‡­ +66</option>
                <option value="+63" data-flag="ðŸ‡µðŸ‡­">ðŸ‡µðŸ‡­ +63</option>
                <option value="+62" data-flag="ðŸ‡®ðŸ‡©">ðŸ‡®ðŸ‡© +62</option>
                <option value="+84" data-flag="ðŸ‡»ðŸ‡³">ðŸ‡»ðŸ‡³ +84</option>
                <option value="+52" data-flag="ðŸ‡²ðŸ‡½">ðŸ‡²ðŸ‡½ +52</option>
                <option value="+55" data-flag="ðŸ‡§ðŸ‡·">ðŸ‡§ðŸ‡· +55</option>
                <option value="+54" data-flag="ðŸ‡¦ðŸ‡·">ðŸ‡¦ðŸ‡· +54</option>
                <option value="+56" data-flag="ðŸ‡¨ðŸ‡±">ðŸ‡¨ðŸ‡± +56</option>
                <option value="+57" data-flag="ðŸ‡¨ðŸ‡´">ðŸ‡¨ðŸ‡´ +57</option>
                <option value="+34" data-flag="ðŸ‡ªðŸ‡¸">ðŸ‡ªðŸ‡¸ +34</option>
                <option value="+39" data-flag="ðŸ‡®ðŸ‡¹">ðŸ‡®ðŸ‡¹ +39</option>
                <option value="+31" data-flag="ðŸ‡³ðŸ‡±">ðŸ‡³ðŸ‡± +31</option>
                <option value="+46" data-flag="ðŸ‡¸ðŸ‡ª">ðŸ‡¸ðŸ‡ª +46</option>
                <option value="+47" data-flag="ðŸ‡³ðŸ‡´">ðŸ‡³ðŸ‡´ +47</option>
                <option value="+45" data-flag="ðŸ‡©ðŸ‡°">ðŸ‡©ðŸ‡° +45</option>
                <option value="+358" data-flag="ðŸ‡«ðŸ‡®">ðŸ‡«ðŸ‡® +358</option>
                <option value="+41" data-flag="ðŸ‡¨ðŸ‡­">ðŸ‡¨ðŸ‡­ +41</option>
                <option value="+43" data-flag="ðŸ‡¦ðŸ‡¹">ðŸ‡¦ðŸ‡¹ +43</option>
                <option value="+351" data-flag="ðŸ‡µðŸ‡¹">ðŸ‡µðŸ‡¹ +351</option>
                <option value="+30" data-flag="ðŸ‡¬ðŸ‡·">ðŸ‡¬ðŸ‡· +30</option>
                <option value="+90" data-flag="ðŸ‡¹ðŸ‡·">ðŸ‡¹ðŸ‡· +90</option>
                <option value="+7" data-flag="ðŸ‡·ðŸ‡º">ðŸ‡·ðŸ‡º +7</option>
                <option value="+48" data-flag="ðŸ‡µðŸ‡±">ðŸ‡µðŸ‡± +48</option>
                <option value="+420" data-flag="ðŸ‡¨ðŸ‡¿">ðŸ‡¨ðŸ‡¿ +420</option>
                <option value="+36" data-flag="ðŸ‡­ðŸ‡º">ðŸ‡­ðŸ‡º +36</option>
                <option value="+40" data-flag="ðŸ‡·ðŸ‡´">ðŸ‡·ðŸ‡´ +40</option>
                <option value="+64" data-flag="ðŸ‡³ðŸ‡¿">ðŸ‡³ðŸ‡¿ +64</option>
                <option value="+353" data-flag="ðŸ‡®ðŸ‡ª">ðŸ‡®ðŸ‡ª +353</option>
                <option value="+32" data-flag="ðŸ‡§ðŸ‡ª">ðŸ‡§ðŸ‡ª +32</option>
                <option value="+972" data-flag="ðŸ‡®ðŸ‡±">ðŸ‡®ðŸ‡± +972</option>
              </select>
              <input type="tel" id="phone" placeholder="555 000 0000" required class="flex-1 p-3 border rounded-lg">
            </div>
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Date of Birth</label>
            <input id="dob" type="date" class="w-full p-3 border rounded-lg">
          </div>

          <button type="button" id="next-btn" class="w-full bg-[var(--sky-blue)] text-white py-3 rounded-lg font-medium mt-4">
            Next
          </button>
        </div>

        <!-- STEP 2 -->
        <div class="form-step" id="step-2">
          <div class="form-group">
            <label class="block font-medium mb-2">Passport / ID Number</label>
            <input id="passport" type="text" class="w-full p-3 border rounded-lg">
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Nationality</label>
            <input id="nationality" type="text" class="w-full p-3 border rounded-lg">
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Gender</label>
            <select id="gender" class="w-full p-3 border rounded-lg">
              <option value="" selected disabled>Select gender</option>
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Seat Preference</label>
            <select id="seat" class="w-full p-3 border rounded-lg">
              <option>Aisle</option>
              <option>Window</option>
              <option>Middle</option>
            </select>
          </div>

          <div class="form-group">
            <label class="block font-medium mb-2">Special Requests</label>
            <input id="special" type="text" placeholder="Optional" class="w-full p-3 border rounded-lg">
          </div>

          <div class="flex gap-4 mt-4">
            <button type="button" id="prev-btn" class="w-1/2 bg-gray-500 text-white py-3 rounded-lg font-medium hover:bg-gray-600">
              Previous
            </button>
            <button type="submit" class="w-1/2 bg-[var(--sky-blue)] text-white py-3 rounded-lg font-medium hover:bg-blue-700">
              Continue to Payment
            </button>
          </div>
        </div>

        <p id="error-message" class="text-red-500 mt-4 text-center hidden"></p>

      </form>
    </div>

  </div>

  <!-- intl-tel-input (flags + formatting) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("booking-form");
      const errorMsg = document.getElementById("error-message");
      const nextBtn = document.getElementById("next-btn");
      const prevBtn = document.getElementById("prev-btn");
      const step1 = document.getElementById("step-1");
      const step2 = document.getElementById("step-2");
      const dot1 = document.getElementById("dot-1");
      const dot2 = document.getElementById("dot-2");

      let currentStep = 1;

      // Next button - go to step 2
      nextBtn.addEventListener("click", () => {
        const firstName = document.getElementById("first-name").value.trim();
        const lastName = document.getElementById("last-name").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const dob = document.getElementById("dob").value.trim();

        if (!firstName || !lastName || !email || !phone) {
          errorMsg.textContent = "Please fill in all required fields before proceeding.";
          errorMsg.classList.remove("hidden");
          return;
        }

        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          errorMsg.textContent = "Please enter a valid email address.";
          errorMsg.classList.remove("hidden");
          return;
        }

        errorMsg.classList.add("hidden");
        step1.classList.remove("active");
        step2.classList.add("active");
        dot1.classList.remove("active");
        dot2.classList.add("active");
        currentStep = 2;
      });

      // Previous button - go back to step 1
      prevBtn.addEventListener("click", () => {
        step2.classList.remove("active");
        step1.classList.add("active");
        dot2.classList.remove("active");
        dot1.classList.add("active");
        currentStep = 1;
        errorMsg.classList.add("hidden");
      });

      // Form submission
      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const firstName = document.getElementById("first-name").value.trim();
        const lastName = document.getElementById("last-name").value.trim();
        const email = document.getElementById("email").value.trim();
        const countryCode = document.getElementById("country-code").value;
        const phone = document.getElementById("phone").value.trim();
        const fullPhone = countryCode + phone;
        const dob = document.getElementById("dob").value.trim();
        const passport = document.getElementById("passport").value.trim();
        const nationality = document.getElementById("nationality").value.trim();
        const gender = document.getElementById("gender").value;
        const seat = document.getElementById("seat").value;
        const special = document.getElementById("special").value.trim();

        // Basic validation for step 2
        if (!gender) {
          errorMsg.textContent = "Please select your gender.";
          errorMsg.classList.remove("hidden");
          return;
        }

        // Save booking data to localStorage
        const bookingData = {
          firstName,
          lastName,
          email,
          phone: fullPhone,
          dob,
          passport,
          nationality,
          gender,
          seat,
          special,
          timestamp: new Date().toISOString()
        };

        localStorage.setItem('currentBooking', JSON.stringify(bookingData));

        errorMsg.classList.add("hidden");
        
        // Redirect to payment page
        alert('Passenger information saved! Redirecting to payment...');
        // window.location.href = 'payment.html';
      });
    });
  </script>

</body>
</html>